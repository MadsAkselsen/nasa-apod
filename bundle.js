(()=>{"use strict";var e={380:(e,t,n)=>{n.d(t,{_p:()=>s,Pt:()=>d,Ni:()=>i});const a={resultsNav:document.getElementById("resultsNav"),favoritesNav:document.getElementById("favoritesNav"),imagesContainer:document.querySelector(".images-container"),saveConfirmed:document.querySelector(".save-confirmed"),loader:document.querySelector(".loader"),favoritesEl:document.getElementById("favoritesEl"),loadMoreEl:document.getElementById("loadMoreEl"),loadMoreFavsEl:document.getElementById("loadMoreFavsEl")};function o(e,t){const n=d();!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(a.imagesContainer),function(e,t,n){const o="nasaData"===e?t:Object.values(n);console.log("current array:",o),o.forEach((({hdurl:t,date:n,title:o,url:r,explanation:c,copyright:d})=>{const l=document.createElement("div");l.classList.add("card");const u=document.createElement("a");u.href=t,u.title="View Full Image",u.target="_blank";const m=document.createElement("img");m.src=r,m.alt="NASA Picture of the Day",m.loading="lazy",m.classList.add("card-img-top");const v=document.createElement("div");v.classList.add("card-body");const f=document.createElement("h5");f.textContent=o,f.classList.add("card-title");const p=document.createElement("p");p.classList.add("clickable"),"nasaData"===e?(p.textContent="Add to Favorites",p.addEventListener("click",(()=>s(r)))):(p.textContent="Remove Favorite",p.addEventListener("click",(()=>i(r))));const h=document.createElement("p");h.classList.add("card-text"),h.textContent=c;const E=document.createElement("small");E.classList.add("text-muted");const g=document.createElement("strong");g.textContent=n;const y=document.createElement("span");y.textContent=d?` ${d}`:"",a.imagesContainer.appendChild(l),l.append(u,v),u.appendChild(m),v.append(f,p,h,E),E.append(g,y)}))}(e,t,n),"nasaData"===e?(a.resultsNav.classList.remove("hidden"),a.favoritesNav.classList.add("hidden")):(a.resultsNav.classList.add("hidden"),a.favoritesNav.classList.remove("hidden"))}let r=[],c={};function s(e){r.forEach((t=>{t.url.includes(e)&&!c[e]&&(c[e]=t,a.saveConfirmed.hidden=!1,setTimeout((()=>{a.saveConfirmed.hidden=!0}),2e3),localStorage.setItem("nasaFavorites",JSON.stringify(c)))}))}function i(e){c[e]&&(delete c[e],localStorage.setItem("nasaFavorites",JSON.stringify(c)),o("favorites",r))}function d(){if(localStorage.getItem("nasaFavorites"))return c=JSON.parse(localStorage.getItem("nasaFavorites")),c}const l=()=>{return e=void 0,t=void 0,c=function*(){a.loader.classList.remove("hidden"),r=yield function(){return e=this,t=void 0,a=function*(){try{const e=yield fetch("https://whispering-reef-88562.herokuapp.com/https://api.nasa.gov/planetary/apod?api_key=tWJ3fobYvlnWjF6Gcckh7pCp45jjemC31VBC057C&count=10");return yield e.json()}catch(e){console.log("error fetching api",e)}},new((n=void 0)||(n=Promise))((function(o,r){function c(e){try{i(a.next(e))}catch(e){r(e)}}function s(e){try{i(a.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,s)}i((a=a.apply(e,t||[])).next())}));var e,t,n,a}(),o("nasaData",r),window.scrollTo({top:0}),a.loader.classList.add("hidden")},new((n=void 0)||(n=Promise))((function(a,o){function r(e){try{i(c.next(e))}catch(e){o(e)}}function s(e){try{i(c.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}i((c=c.apply(e,t||[])).next())}));var e,t,n,c};a.favoritesEl.addEventListener("click",(()=>o("favorites",r))),a.loadMoreFavsEl.addEventListener("click",(()=>l())),a.loadMoreEl.addEventListener("click",(()=>l())),l()}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(380)})();